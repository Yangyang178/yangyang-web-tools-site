<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSSä¼˜åŒ–å·¥å…·</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        textarea {
            width: 100%;
            min-height: 200px;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
        }
        button {
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            margin-right: 15px;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        button:active {
            transform: translateY(1px);
        }
        button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255,255,255,0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        button:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }
        #minify-btn {
            background: linear-gradient(135deg, #ff758c, #ff7eb3);
        }
        #beautify-btn {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
        }
        #clear-btn {
            background: linear-gradient(135deg, #a18cd1, #fbc2eb);
        }
        .button-group {
            margin: 20px 0;
        }
        .result-info {
            margin: 10px 0;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>CSSä¼˜åŒ–å·¥å…·</h1>
        
        <div>
            <h3>è¾“å…¥CSSä»£ç :</h3>
            <textarea id="input-css" placeholder="ç²˜è´´æ‚¨çš„CSSä»£ç åˆ°è¿™é‡Œ..."></textarea>
        </div>
        
        <div class="button-group">
            <button id="minify-btn" onclick="minifyCSS()">âœ¨ å‹ç¼©CSS</button>
            <button id="beautify-btn" onclick="beautifyCSS()">ğŸ¨ ç¾åŒ–CSS</button>
            <button id="clear-btn" onclick="clearAll()">ğŸ§¹ æ¸…ç©º</button>
        </div>
        
        <div class="result-info" id="result-info"></div>
        
        <div>
            <h3>ç»“æœ:</h3>
            <textarea id="output-css" readonly></textarea>
        </div>
    </div>

    <script>
        function minifyCSS() {
            const input = document.getElementById('input-css').value.trim();
            if (!input) {
                alert('è¯·è¾“å…¥CSSä»£ç ');
                return;
            }
            
            // ç§»é™¤æ³¨é‡Š
            let minified = input.replace(/\/\*[\s\S]*?\*\//g, '');
            
            // ç§»é™¤ç©ºæ ¼å’Œæ¢è¡Œ
            minified = minified.replace(/\s+/g, ' ');
            
            // ç§»é™¤ä¸å¿…è¦çš„ç©ºæ ¼
            minified = minified.replace(/\s*([{};:,])\s*/g, '$1');
            
            // ç§»é™¤æœ€åä¸€ä¸ªåˆ†å·
            minified = minified.replace(/;}/g, '}');
            
            document.getElementById('output-css').value = minified;
            
            const originalSize = input.length;
            const minifiedSize = minified.length;
            const reduction = Math.round((1 - minifiedSize/originalSize) * 100);
            
            document.getElementById('result-info').innerHTML = 
                `åŸå§‹å¤§å°: ${originalSize} å­—ç¬¦ | å‹ç¼©å: ${minifiedSize} å­—ç¬¦ | å‡å°‘äº† ${reduction}%`;
        }
        
        function beautifyCSS() {
            const input = document.getElementById('input-css').value.trim();
            if (!input) {
                alert('è¯·è¾“å…¥CSSä»£ç ');
                return;
            }
            
            // åŸºæœ¬ç¾åŒ–é€»è¾‘
            let beautified = input;
            
            // æ·»åŠ æ¢è¡Œå’Œç¼©è¿›
            beautified = beautified.replace(/\s*([{}])\s*/g, '$1\n');
            beautified = beautified.replace(/;/g, ';\n');
            beautified = beautified.replace(/,\s*/g, ', ');
            
            // å¤„ç†é€‰æ‹©å™¨å’Œè§„åˆ™
            beautified = beautified.replace(/\n([^\s{}]+)\s*{/g, '\n$1 {\n');
            beautified = beautified.replace(/}/g, '\n}\n');
            
            // æ·»åŠ ç¼©è¿›
            let lines = beautified.split('\n');
            let indentLevel = 0;
            
            for (let i = 0; i < lines.length; i++) {
                lines[i] = lines[i].trim();
                
                if (lines[i].includes('}')) {
                    indentLevel--;
                }
                
                if (lines[i]) {
                    lines[i] = '    '.repeat(indentLevel) + lines[i];
                }
                
                if (lines[i].includes('{')) {
                    indentLevel++;
                }
            }
            
            beautified = lines.filter(line => line.trim()).join('\n');
            
            document.getElementById('output-css').value = beautified;
            document.getElementById('result-info').innerHTML = 'CSSä»£ç å·²ç¾åŒ–';
        }
        
        function clearAll() {
            document.getElementById('input-css').value = '';
            document.getElementById('output-css').value = '';
            document.getElementById('result-info').innerHTML = '';
        }
    </script>
</body>
</html>

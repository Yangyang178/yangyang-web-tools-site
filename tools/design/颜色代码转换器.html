<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‰²å½©æ–¹æ¡ˆç”Ÿæˆå™¨ - Color Scheme Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            width: 24px;
            height: 24px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }

        .input-wrapper {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        input[type="color"] {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        input[type="text"], input[type="number"], select {
            padding: 10px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        input[type="text"]:focus, input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .color-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .color-card:hover {
            transform: translateY(-5px);
        }

        .color-preview {
            height: 120px;
            position: relative;
            cursor: pointer;
        }

        .color-info {
            padding: 15px;
        }

        .color-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .color-codes {
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }

        .conversion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .conversion-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .accessibility-result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
        }

        .accessibility-pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .accessibility-fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .export-area {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .export-code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }

        .copy-btn {
            background: #28a745;
            font-size: 12px;
            padding: 8px 16px;
            margin-top: 10px;
        }

        .copy-btn:hover {
            box-shadow: 0 3px 10px rgba(40, 167, 69, 0.4);
        }

        .scheme-types {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .scheme-type {
            padding: 8px 16px;
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .scheme-type.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .contact-section {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
        }

        .contact-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .contact-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 15px;
        }

        .close:hover,
        .close:focus {
            color: #000;
        }

        .modal h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
        }

        .contact-info {
            margin: 20px 0;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .contact-item i {
            font-size: 1.5rem;
            margin-right: 15px;
            color: #667eea;
        }

        .contact-item strong {
            color: #333;
            margin-right: 10px;
        }

        .contact-item span {
            color: #666;
            font-family: 'Courier New', monospace;
        }

        .contact-message {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .input-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .color-palette {
                grid-template-columns: 1fr;
            }
            
            .conversion-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¨ è‰²å½©æ–¹æ¡ˆç”Ÿæˆå™¨</h1>
            <p>ä¸ºè®¾è®¡å¸ˆå’Œå¼€å‘è€…æä¾›çš„ä¸“ä¸šè‰²å½©å·¥å…·</p>
        </div>

        <div class="main-content">
            <!-- é¢œè‰²è½¬æ¢å™¨ -->
            <div class="section">
                <h2>
                    <span class="section-icon">ğŸ”„</span>
                    é¢œè‰²ä»£ç è½¬æ¢å™¨
                </h2>
                <div class="conversion-grid">
                    <div class="conversion-card">
                        <div class="input-group">
                            <div class="input-wrapper">
                                <label>é€‰æ‹©é¢œè‰²</label>
                                <input type="color" id="colorPicker" value="#667eea">
                            </div>
                            <div class="input-wrapper">
                                <label>HEX</label>
                                <input type="text" id="hexInput" placeholder="#667eea">
                            </div>
                        </div>
                        <div class="input-group">
                            <div class="input-wrapper">
                                <label>R</label>
                                <input type="number" id="rInput" min="0" max="255" placeholder="102">
                            </div>
                            <div class="input-wrapper">
                                <label>G</label>
                                <input type="number" id="gInput" min="0" max="255" placeholder="126">
                            </div>
                            <div class="input-wrapper">
                                <label>B</label>
                                <input type="number" id="bInput" min="0" max="255" placeholder="234">
                            </div>
                        </div>
                        <div class="input-group">
                            <div class="input-wrapper">
                                <label>H</label>
                                <input type="number" id="hInput" min="0" max="360" placeholder="230">
                            </div>
                            <div class="input-wrapper">
                                <label>S (%)</label>
                                <input type="number" id="sInput" min="0" max="100" placeholder="75">
                            </div>
                            <div class="input-wrapper">
                                <label>L (%)</label>
                                <input type="number" id="lInput" min="0" max="100" placeholder="66">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- é…è‰²æ–¹æ¡ˆç”Ÿæˆå™¨ -->
            <div class="section">
                <h2>
                    <span class="section-icon">ğŸ¯</span>
                    é…è‰²æ–¹æ¡ˆç”Ÿæˆå™¨
                </h2>
                <div class="input-group">
                    <div class="input-wrapper">
                        <label>ä¸»è‰²è°ƒ</label>
                        <input type="color" id="baseColor" value="#667eea">
                    </div>
                    <button class="btn" onclick="generateColorScheme()">ç”Ÿæˆé…è‰²æ–¹æ¡ˆ</button>
                </div>
                
                <div class="scheme-types">
                    <div class="scheme-type active" data-type="complementary">äº’è¡¥è‰²</div>
                    <div class="scheme-type" data-type="analogous">ç±»ä¼¼è‰²</div>
                    <div class="scheme-type" data-type="triadic">ä¸‰è§’è‰²</div>
                    <div class="scheme-type" data-type="tetradic">å››è§’è‰²</div>
                    <div class="scheme-type" data-type="monochromatic">å•è‰²è°ƒ</div>
                </div>

                <div class="color-palette" id="colorPalette"></div>
            </div>

            <!-- è‰²ç›²å‹å¥½æ£€æŸ¥ -->
            <div class="section">
                <h2>
                    <span class="section-icon">ğŸ‘ï¸</span>
                    è‰²ç›²å‹å¥½æ£€æŸ¥
                </h2>
                <div class="input-group">
                    <div class="input-wrapper">
                        <label>å‰æ™¯è‰²</label>
                        <input type="color" id="foregroundColor" value="#333333">
                    </div>
                    <div class="input-wrapper">
                        <label>èƒŒæ™¯è‰²</label>
                        <input type="color" id="backgroundColor" value="#ffffff">
                    </div>
                    <button class="btn" onclick="checkAccessibility()">æ£€æŸ¥å¯è®¿é—®æ€§</button>
                </div>
                <div id="accessibilityResult"></div>
            </div>

            <!-- CSSå¯¼å‡º -->
            <div class="section">
                <h2>
                    <span class="section-icon">ğŸ“‹</span>
                    CSSå˜é‡å¯¼å‡º
                </h2>
                <div class="input-group">
                    <button class="btn" onclick="exportCSS()">å¯¼å‡ºå½“å‰é…è‰²ä¸ºCSSå˜é‡</button>
                    <button class="btn btn-secondary copy-btn" onclick="copyCSS()">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
                </div>
                <div class="export-area">
                    <div class="export-code" id="cssOutput">/* ç‚¹å‡»"å¯¼å‡ºå½“å‰é…è‰²ä¸ºCSSå˜é‡"æŒ‰é’®ç”ŸæˆCSSä»£ç  */</div>
                </div>
            </div>

            <!-- è”ç³»æˆ‘ä»¬æŒ‰é’® -->
            <div class="contact-section">
                <button class="contact-btn" onclick="openContactModal()">
                    ğŸ“ è”ç³»æˆ‘ä»¬
                </button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼</div>

    <!-- è”ç³»æˆ‘ä»¬æ¨¡æ€æ¡† -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeContactModal()">&times;</span>
            <h2>ğŸ“ è”ç³»æˆ‘ä»¬</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <i>ğŸ“§</i>
                    <strong>QQé‚®ç®±:</strong>
                    <span>1990909398@qq.com</span>
                </div>
                <div class="contact-item">
                    <i>ğŸ’¬</i>
                    <strong>å¾®ä¿¡å·:</strong>
                    <span>y8849112640</span>
                </div>
            </div>
            <div class="contact-message">
                å‘æˆ‘ä»¬å‘é€æ¶ˆæ¯ å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä¸‹é¢çš„é‚®ç®±æˆ–å¾®ä¿¡è”ç³»æˆ‘ä»¬
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentScheme = [];
        let currentSchemeType = 'complementary';

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeColorConverter();
            initializeSchemeTypes();
            generateColorScheme();
        });

        // é¢œè‰²è½¬æ¢åŠŸèƒ½
        function initializeColorConverter() {
            const colorPicker = document.getElementById('colorPicker');
            const hexInput = document.getElementById('hexInput');
            const rInput = document.getElementById('rInput');
            const gInput = document.getElementById('gInput');
            const bInput = document.getElementById('bInput');
            const hInput = document.getElementById('hInput');
            const sInput = document.getElementById('sInput');
            const lInput = document.getElementById('lInput');

            // é¢œè‰²é€‰æ‹©å™¨å˜åŒ–
            colorPicker.addEventListener('input', function() {
                const hex = this.value;
                updateAllInputs(hex);
            });

            // HEXè¾“å…¥å˜åŒ–
            hexInput.addEventListener('input', function() {
                const hex = this.value;
                if (isValidHex(hex)) {
                    colorPicker.value = hex;
                    updateAllInputs(hex);
                }
            });

            // RGBè¾“å…¥å˜åŒ–
            [rInput, gInput, bInput].forEach(input => {
                input.addEventListener('input', function() {
                    const r = parseInt(rInput.value) || 0;
                    const g = parseInt(gInput.value) || 0;
                    const b = parseInt(bInput.value) || 0;
                    const hex = rgbToHex(r, g, b);
                    colorPicker.value = hex;
                    hexInput.value = hex;
                    updateHSL(hex);
                });
            });

            // HSLè¾“å…¥å˜åŒ–
            [hInput, sInput, lInput].forEach(input => {
                input.addEventListener('input', function() {
                    const h = parseInt(hInput.value) || 0;
                    const s = parseInt(sInput.value) || 0;
                    const l = parseInt(lInput.value) || 0;
                    const hex = hslToHex(h, s, l);
                    colorPicker.value = hex;
                    hexInput.value = hex;
                    updateRGB(hex);
                });
            });

            // åˆå§‹åŒ–å€¼
            updateAllInputs(colorPicker.value);
        }

        function updateAllInputs(hex) {
            document.getElementById('hexInput').value = hex;
            updateRGB(hex);
            updateHSL(hex);
        }

        function updateRGB(hex) {
            const rgb = hexToRgb(hex);
            document.getElementById('rInput').value = rgb.r;
            document.getElementById('gInput').value = rgb.g;
            document.getElementById('bInput').value = rgb.b;
        }

        function updateHSL(hex) {
            const hsl = hexToHsl(hex);
            document.getElementById('hInput').value = Math.round(hsl.h);
            document.getElementById('sInput').value = Math.round(hsl.s);
            document.getElementById('lInput').value = Math.round(hsl.l);
        }

        // é¢œè‰²è½¬æ¢å·¥å…·å‡½æ•°
        function isValidHex(hex) {
            return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex);
        }

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }

        function hexToHsl(hex) {
            const rgb = hexToRgb(hex);
            return rgbToHsl(rgb.r, rgb.g, rgb.b);
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return {
                h: h * 360,
                s: s * 100,
                l: l * 100
            };
        }

        function hslToHex(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1/6) return p + (q - p) * 6 * t;
                if (t < 1/2) return q;
                if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            };

            let r, g, b;

            if (s === 0) {
                r = g = b = l;
            } else {
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            return rgbToHex(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255));
        }

        // é…è‰²æ–¹æ¡ˆç”Ÿæˆ
        function initializeSchemeTypes() {
            const schemeTypes = document.querySelectorAll('.scheme-type');
            schemeTypes.forEach(type => {
                type.addEventListener('click', function() {
                    schemeTypes.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentSchemeType = this.dataset.type;
                    generateColorScheme();
                });
            });
        }

        function generateColorScheme() {
            const baseColor = document.getElementById('baseColor').value;
            const hsl = hexToHsl(baseColor);
            
            currentScheme = [];
            
            switch (currentSchemeType) {
                case 'complementary':
                    currentScheme = generateComplementary(hsl);
                    break;
                case 'analogous':
                    currentScheme = generateAnalogous(hsl);
                    break;
                case 'triadic':
                    currentScheme = generateTriadic(hsl);
                    break;
                case 'tetradic':
                    currentScheme = generateTetradic(hsl);
                    break;
                case 'monochromatic':
                    currentScheme = generateMonochromatic(hsl);
                    break;
            }
            
            displayColorPalette(currentScheme);
        }

        function generateComplementary(hsl) {
            const complementaryHue = (hsl.h + 180) % 360;
            return [
                { name: 'ä¸»è‰²', hex: hslToHex(hsl.h, hsl.s, hsl.l) },
                { name: 'äº’è¡¥è‰²', hex: hslToHex(complementaryHue, hsl.s, hsl.l) },
                { name: 'ä¸»è‰²æµ…', hex: hslToHex(hsl.h, hsl.s * 0.7, Math.min(hsl.l + 20, 90)) },
                { name: 'äº’è¡¥è‰²æµ…', hex: hslToHex(complementaryHue, hsl.s * 0.7, Math.min(hsl.l + 20, 90)) },
                { name: 'ä¸»è‰²æ·±', hex: hslToHex(hsl.h, hsl.s, Math.max(hsl.l - 20, 10)) },
                { name: 'äº’è¡¥è‰²æ·±', hex: hslToHex(complementaryHue, hsl.s, Math.max(hsl.l - 20, 10)) }
            ];
        }

        function generateAnalogous(hsl) {
            return [
                { name: 'ä¸»è‰²', hex: hslToHex(hsl.h, hsl.s, hsl.l) },
                { name: 'ç±»ä¼¼è‰²1', hex: hslToHex((hsl.h + 30) % 360, hsl.s, hsl.l) },
                { name: 'ç±»ä¼¼è‰²2', hex: hslToHex((hsl.h - 30 + 360) % 360, hsl.s, hsl.l) },
                { name: 'ç±»ä¼¼è‰²3', hex: hslToHex((hsl.h + 60) % 360, hsl.s * 0.8, hsl.l) },
                { name: 'ç±»ä¼¼è‰²4', hex: hslToHex((hsl.h - 60 + 360) % 360, hsl.s * 0.8, hsl.l) }
            ];
        }

        function generateTriadic(hsl) {
            return [
                { name: 'ä¸»è‰²', hex: hslToHex(hsl.h, hsl.s, hsl.l) },
                { name: 'ä¸‰è§’è‰²1', hex: hslToHex((hsl.h + 120) % 360, hsl.s, hsl.l) },
                { name: 'ä¸‰è§’è‰²2', hex: hslToHex((hsl.h + 240) % 360, hsl.s, hsl.l) },
                { name: 'ä¸»è‰²æµ…', hex: hslToHex(hsl.h, hsl.s * 0.6, Math.min(hsl.l + 25, 95)) },
                { name: 'ä¸»è‰²æ·±', hex: hslToHex(hsl.h, hsl.s, Math.max(hsl.l - 25, 5)) }
            ];
        }

        function generateTetradic(hsl) {
            return [
                { name: 'ä¸»è‰²', hex: hslToHex(hsl.h, hsl.s, hsl.l) },
                { name: 'å››è§’è‰²1', hex: hslToHex((hsl.h + 90) % 360, hsl.s, hsl.l) },
                { name: 'å››è§’è‰²2', hex: hslToHex((hsl.h + 180) % 360, hsl.s, hsl.l) },
                { name: 'å››è§’è‰²3', hex: hslToHex((hsl.h + 270) % 360, hsl.s, hsl.l) },
                { name: 'ä¸­æ€§è‰²', hex: hslToHex(hsl.h, hsl.s * 0.2, 50) }
            ];
        }

        function generateMonochromatic(hsl) {
            return [
                { name: 'æœ€æ·±', hex: hslToHex(hsl.h, hsl.s, Math.max(hsl.l - 40, 5)) },
                { name: 'æ·±è‰²', hex: hslToHex(hsl.h, hsl.s, Math.max(hsl.l - 20, 10)) },
                { name: 'ä¸»è‰²', hex: hslToHex(hsl.h, hsl.s, hsl.l) },
                { name: 'æµ…è‰²', hex: hslToHex(hsl.h, hsl.s * 0.7, Math.min(hsl.l + 20, 90)) },
                { name: 'æœ€æµ…', hex: hslToHex(hsl.h, hsl.s * 0.4, Math.min(hsl.l + 40, 95)) }
            ];
        }

        function displayColorPalette(colors) {
            const palette = document.getElementById('colorPalette');
            palette.innerHTML = '';
            
            colors.forEach(color => {
                const card = document.createElement('div');
                card.className = 'color-card';
                
                const rgb = hexToRgb(color.hex);
                const hsl = hexToHsl(color.hex);
                
                card.innerHTML = `
                    <div class="color-preview" style="background-color: ${color.hex}" onclick="copyToClipboard('${color.hex}')"></div>
                    <div class="color-info">
                        <div class="color-name">${color.name}</div>
                        <div class="color-codes">
                            HEX: ${color.hex}<br>
                            RGB: ${rgb.r}, ${rgb.g}, ${rgb.b}<br>
                            HSL: ${Math.round(hsl.h)}Â°, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%
                        </div>
                    </div>
                `;
                
                palette.appendChild(card);
            });
        }

        // è‰²ç›²å‹å¥½æ£€æŸ¥
        function checkAccessibility() {
            const fg = document.getElementById('foregroundColor').value;
            const bg = document.getElementById('backgroundColor').value;
            
            const contrast = calculateContrast(fg, bg);
            const resultDiv = document.getElementById('accessibilityResult');
            
            let result = `<strong>å¯¹æ¯”åº¦: ${contrast.toFixed(2)}:1</strong><br><br>`;
            
            if (contrast >= 7) {
                result += '<div class="accessibility-pass">âœ… AAAçº§åˆ« - ä¼˜ç§€çš„å¯è®¿é—®æ€§</div>';
            } else if (contrast >= 4.5) {
                result += '<div class="accessibility-pass">âœ… AAçº§åˆ« - è‰¯å¥½çš„å¯è®¿é—®æ€§</div>';
            } else if (contrast >= 3) {
                result += '<div class="accessibility-fail">âš ï¸ AAå¤§å­—ä½“çº§åˆ« - ä»…é€‚ç”¨äºå¤§å­—ä½“</div>';
            } else {
                result += '<div class="accessibility-fail">âŒ ä¸ç¬¦åˆå¯è®¿é—®æ€§æ ‡å‡†</div>';
            }
            
            // è‰²ç›²æ¨¡æ‹Ÿ
            result += '<br><strong>è‰²ç›²æ¨¡æ‹Ÿ:</strong><br>';
            result += `<div style="margin-top: 10px;">
                <div style="display: inline-block; width: 100px; height: 30px; background: ${fg}; color: ${bg}; text-align: center; line-height: 30px; margin: 5px; border-radius: 4px;">æ­£å¸¸è§†è§‰</div>
                <div style="display: inline-block; width: 100px; height: 30px; background: ${simulateProtanopia(fg)}; color: ${simulateProtanopia(bg)}; text-align: center; line-height: 30px; margin: 5px; border-radius: 4px;">çº¢è‰²ç›²</div>
                <div style="display: inline-block; width: 100px; height: 30px; background: ${simulateDeuteranopia(fg)}; color: ${simulateDeuteranopia(bg)}; text-align: center; line-height: 30px; margin: 5px; border-radius: 4px;">ç»¿è‰²ç›²</div>
                <div style="display: inline-block; width: 100px; height: 30px; background: ${simulateTritanopia(fg)}; color: ${simulateTritanopia(bg)}; text-align: center; line-height: 30px; margin: 5px; border-radius: 4px;">è“è‰²ç›²</div>
            </div>`;
            
            resultDiv.innerHTML = result;
        }

        function calculateContrast(color1, color2) {
            const rgb1 = hexToRgb(color1);
            const rgb2 = hexToRgb(color2);
            
            const l1 = getRelativeLuminance(rgb1.r, rgb1.g, rgb1.b);
            const l2 = getRelativeLuminance(rgb2.r, rgb2.g, rgb2.b);
            
            const lighter = Math.max(l1, l2);
            const darker = Math.min(l1, l2);
            
            return (lighter + 0.05) / (darker + 0.05);
        }

        function getRelativeLuminance(r, g, b) {
            const [rs, gs, bs] = [r, g, b].map(c => {
                c = c / 255;
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
        }

        // è‰²ç›²æ¨¡æ‹Ÿå‡½æ•°
        function simulateProtanopia(hex) {
            const rgb = hexToRgb(hex);
            const r = 0.567 * rgb.r + 0.433 * rgb.g;
            const g = 0.558 * rgb.r + 0.442 * rgb.g;
            const b = 0.242 * rgb.g + 0.758 * rgb.b;
            return rgbToHex(Math.round(r), Math.round(g), Math.round(b));
        }

        function simulateDeuteranopia(hex) {
            const rgb = hexToRgb(hex);
            const r = 0.625 * rgb.r + 0.375 * rgb.g;
            const g = 0.7 * rgb.r + 0.3 * rgb.g;
            const b = 0.3 * rgb.g + 0.7 * rgb.b;
            return rgbToHex(Math.round(r), Math.round(g), Math.round(b));
        }

        function simulateTritanopia(hex) {
            const rgb = hexToRgb(hex);
            const r = 0.95 * rgb.r + 0.05 * rgb.g;
            const g = 0.433 * rgb.g + 0.567 * rgb.b;
            const b = 0.475 * rgb.g + 0.525 * rgb.b;
            return rgbToHex(Math.round(r), Math.round(g), Math.round(b));
        }

        // CSSå¯¼å‡ºåŠŸèƒ½
        function exportCSS() {
            if (currentScheme.length === 0) {
                generateColorScheme();
            }
            
            let css = ':root {\n';
            currentScheme.forEach((color, index) => {
                const varName = color.name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
                css += `  --color-${varName}: ${color.hex};\n`;
                
                const rgb = hexToRgb(color.hex);
                css += `  --color-${varName}-rgb: ${rgb.r}, ${rgb.g}, ${rgb.b};\n`;
            });
            css += '}\n\n';
            
            css += '/* ä½¿ç”¨ç¤ºä¾‹ */\n';
            css += '.example {\n';
            css += `  background-color: var(--color-${currentScheme[0].name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '')});\n`;
            css += `  color: var(--color-${currentScheme[1] ? currentScheme[1].name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '') : 'primary'});\n`;
            css += '}\n\n';
            
            css += '/* å¸¦é€æ˜åº¦çš„ä½¿ç”¨ç¤ºä¾‹ */\n';
            css += '.example-with-alpha {\n';
            css += `  background-color: rgba(var(--color-${currentScheme[0].name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '')}-rgb), 0.8);\n`;
            css += '}';
            
            document.getElementById('cssOutput').textContent = css;
        }

        function copyCSS() {
            const cssOutput = document.getElementById('cssOutput');
            navigator.clipboard.writeText(cssOutput.textContent).then(() => {
                showToast('CSSä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(`é¢œè‰²ä»£ç  ${text} å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`);
            });
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // è”ç³»æˆ‘ä»¬æ¨¡æ€æ¡†åŠŸèƒ½
        function openContactModal() {
            document.getElementById('contactModal').style.display = 'block';
        }

        function closeContactModal() {
            document.getElementById('contactModal').style.display = 'none';
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('contactModal');
            if (event.target === modal) {
                closeContactModal();
            }
        });

        // ESCé”®å…³é—­æ¨¡æ€æ¡†
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeContactModal();
            }
        });
    </script>
</body>
</html>

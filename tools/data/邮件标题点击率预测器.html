<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÈÇÆ‰ª∂Ê†áÈ¢òÁÇπÂáªÁéáÈ¢ÑÊµãÂô®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-attachment: fixed;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 25%, #45b7d1 50%, #96ceb4 75%, #feca57 100%);
            background-size: 300% 300%;
            animation: gradientShift 8s ease infinite;
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .header * {
            position: relative;
            z-index: 1;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: 800;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            font-weight: 500;
        }

        .main-content {
            padding: 50px 40px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.9) 100%);
        }

        .input-section {
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
            position: relative;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: #2d3748;
            font-size: 16px;
            letter-spacing: 0.3px;
        }

        .subject-input {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            font-size: 16px;
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.06),
                0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .subject-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.06),
                0 0 0 3px rgba(102, 126, 234, 0.1),
                0 4px 12px rgba(102, 126, 234, 0.15);
            transform: translateY(-1px);
        }

        .industry-select {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            font-size: 16px;
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.06),
                0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .industry-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.06),
                0 0 0 3px rgba(102, 126, 234, 0.1),
                0 4px 12px rgba(102, 126, 234, 0.15);
            transform: translateY(-1px);
        }

        .analyze-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 25%, #45b7d1 50%, #96ceb4 75%, #feca57 100%);
            background-size: 300% 300%;
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.3),
                0 3px 10px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: gradientShift 6s ease infinite;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
        }

        .analyze-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .analyze-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 
                0 12px 35px rgba(102, 126, 234, 0.4),
                0 6px 20px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .analyze-btn:hover::before {
            left: 100%;
        }

        .analyze-btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            animation: none;
        }

        .analyze-btn:disabled:hover {
            transform: none;
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.3),
                0 3px 10px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .button-group .analyze-btn,
        .button-group .reset-btn,
        .button-group .clear-btn {
            flex: 1;
            min-width: 150px;
        }

        .clear-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 50%, #ff4757 100%);
            background-size: 200% 200%;
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 8px 25px rgba(255, 107, 107, 0.3),
                0 3px 10px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: gradientShift 6s ease infinite;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
        }

        .clear-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .clear-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 
                0 12px 35px rgba(255, 107, 107, 0.4),
                0 6px 20px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .clear-btn:hover::before {
            left: 100%;
        }

        .clear-btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .reset-btn {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 50%, #3498db 100%);
            background-size: 200% 200%;
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 8px 25px rgba(78, 205, 196, 0.3),
                0 3px 10px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: gradientShift 6s ease infinite;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
        }

        .reset-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .reset-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 
                0 12px 35px rgba(78, 205, 196, 0.4),
                0 6px 20px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .reset-btn:hover::before {
            left: 100%;
        }

        .reset-btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .results-section {
            display: none;
            margin-top: 30px;
        }

        .prediction-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 50%, #d299c2 100%);
            background-size: 200% 200%;
            animation: gradientShift 10s ease infinite;
            padding: 35px 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 
                0 15px 35px rgba(168, 237, 234, 0.3),
                0 5px 15px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .prediction-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .prediction-card * {
            position: relative;
            z-index: 1;
        }

        .ctr-score {
            font-size: 3.5em;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            letter-spacing: -1px;
        }

        .ctr-label {
            font-size: 1.2em;
            color: #666;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .score-item {
            background: linear-gradient(145deg, #ffffff 0%, #f1f3f4 100%);
            padding: 20px 15px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .score-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .score-item:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.12),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }

        .score-item:hover::before {
            opacity: 1;
        }

        .score-item h4 {
            color: #333;
            margin-bottom: 5px;
        }

        .score-value {
            font-size: 1.8em;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-top: 5px;
        }

        .suggestions-section {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid rgba(255, 234, 167, 0.5);
            border-radius: 20px;
            padding: 25px;
            margin-top: 25px;
            box-shadow: 
                0 10px 25px rgba(255, 234, 167, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .suggestions-section::before {
            content: 'üí°';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 3em;
            opacity: 0.1;
            transform: rotate(15deg);
        }

        .suggestions-title {
            color: #856404;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .suggestions-title::before {
            content: 'üí°';
            font-size: 1.2em;
        }

        .suggestion-item {
            background: linear-gradient(145deg, #ffffff 0%, #fffbf0 100%);
            padding: 18px 20px;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 4px solid #ffc107;
            box-shadow: 
                0 4px 12px rgba(255, 193, 7, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .suggestion-item:hover {
            transform: translateX(5px);
            box-shadow: 
                0 6px 20px rgba(255, 193, 7, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }

        .suggestion-item:last-child {
            margin-bottom: 0;
        }

        .suggestion-type {
            font-weight: 600;
            color: #856404;
            margin-bottom: 5px;
        }

        .optimized-examples {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 1px solid rgba(190, 229, 235, 0.5);
            border-radius: 20px;
            padding: 25px;
            margin-top: 25px;
            box-shadow: 
                0 10px 25px rgba(190, 229, 235, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .optimized-examples::before {
            content: '‚ú®';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 3em;
            opacity: 0.1;
            transform: rotate(-15deg);
        }

        .examples-title {
            color: #0c5460;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .examples-title::before {
            content: '‚ú®';
            font-size: 1.2em;
        }

        .example-item {
            background: linear-gradient(145deg, #ffffff 0%, #f0f9ff 100%);
            padding: 18px 20px;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 4px solid #17a2b8;
            box-shadow: 
                0 4px 12px rgba(23, 162, 184, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .example-item:hover {
            transform: translateX(5px);
            box-shadow: 
                0 6px 20px rgba(23, 162, 184, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }

        .example-item:last-child {
            margin-bottom: 0;
        }

        .example-subject {
            font-weight: 600;
            color: #0c5460;
            margin-bottom: 5px;
        }

        .example-ctr {
            color: #17a2b8;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .main-content {
                padding: 20px;
            }

            .score-breakdown {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .button-group .analyze-btn,
            .button-group .reset-btn,
            .button-group .clear-btn {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìß ÈÇÆ‰ª∂Ê†áÈ¢òÁÇπÂáªÁéáÈ¢ÑÊµãÂô®</h1>
            <p>AIÊô∫ËÉΩÂàÜÊûêÈÇÆ‰ª∂Ê†áÈ¢òÔºåÈ¢ÑÊµãÁÇπÂáªÁéáÂπ∂Êèê‰æõ‰ºòÂåñÂª∫ËÆÆ</p>
        </div>

        <div class="main-content">
            <div class="input-section">
                <div class="input-group">
                    <label for="subjectLine">ÈÇÆ‰ª∂Ê†áÈ¢ò</label>
                    <input type="text" id="subjectLine" class="subject-input" 
                           placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈÇÆ‰ª∂Ê†áÈ¢ò..." maxlength="100">
                </div>

                <div class="input-group">
                    <label for="industry">Ë°å‰∏öÁ±ªÂûã</label>
                    <select id="industry" class="industry-select">
                        <option value="general">ÈÄöÁî®</option>
                        <option value="ecommerce">ÁîµÂïÜÈõ∂ÂîÆ</option>
                        <option value="finance">ÈáëËûçÊúçÂä°</option>
                        <option value="education">ÊïôËÇ≤ÂüπËÆ≠</option>
                        <option value="healthcare">ÂåªÁñóÂÅ•Â∫∑</option>
                        <option value="technology">ÁßëÊäÄ‰∫íËÅîÁΩë</option>
                        <option value="travel">ÊóÖÊ∏∏Âá∫Ë°å</option>
                        <option value="food">È§êÈ•ÆÁæéÈ£ü</option>
                        <option value="fashion">Êó∂Â∞öÁæéÂ¶Ü</option>
                        <option value="real-estate">ÊàøÂú∞‰∫ß</option>
                        <option value="automotive">Ê±ΩËΩ¶</option>
                    </select>
                </div>

                <div class="button-group">
                    <button id="analyzeBtn" class="analyze-btn">üîç ÂàÜÊûêÈ¢ÑÊµã</button>
                    <button id="resetBtn" class="reset-btn">üîÑ ÈáçÁΩÆ</button>
                    <button id="clearBtn" class="clear-btn">üóëÔ∏è Ê∏ÖÈô§</button>
                </div>
            </div>

            <div id="resultsSection" class="results-section">
                <div class="prediction-card">
                    <div id="ctrScore" class="ctr-score">--</div>
                    <div class="ctr-label">È¢ÑÊµãÁÇπÂáªÁéá</div>
                </div>

                <div class="score-breakdown">
                    <div class="score-item">
                        <h4>ÈïøÂ∫¶ÂæóÂàÜ</h4>
                        <div id="lengthScore" class="score-value">--</div>
                    </div>
                    <div class="score-item">
                        <h4>ÊÉÖÊÑüÂæóÂàÜ</h4>
                        <div id="emotionScore" class="score-value">--</div>
                    </div>
                    <div class="score-item">
                        <h4>Á¥ßËø´ÊÄßÂæóÂàÜ</h4>
                        <div id="urgencyScore" class="score-value">--</div>
                    </div>
                    <div class="score-item">
                        <h4>‰∏™ÊÄßÂåñÂæóÂàÜ</h4>
                        <div id="personalizationScore" class="score-value">--</div>
                    </div>
                </div>

                <div id="suggestionsSection" class="suggestions-section">
                    <div class="suggestions-title">üí° ‰ºòÂåñÂª∫ËÆÆ</div>
                    <div id="suggestionsList"></div>
                </div>

                <div id="examplesSection" class="optimized-examples">
                    <div class="examples-title">‚ú® ‰ºòÂåñÁ§∫‰æã</div>
                    <div id="examplesList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class EmailCTRPredictor {
            constructor() {
                this.initializeEventListeners();
                this.industryMultipliers = {
                    'general': 1.0,
                    'ecommerce': 1.15,
                    'finance': 0.85,
                    'education': 0.95,
                    'healthcare': 0.90,
                    'technology': 1.05,
                    'travel': 1.20,
                    'food': 1.10,
                    'fashion': 1.25,
                    'real-estate': 0.80,
                    'automotive': 0.95
                };

                this.powerWords = [
                    'ÂÖçË¥π', 'ÈôêÊó∂', 'Áã¨ÂÆ∂', 'ÁßòÂØÜ', 'ÊÉäÂñú', 'Êñ∞ÂìÅ', 'ÊäòÊâ£', '‰ºòÊÉ†',
                    'Á´ãÂç≥', 'È©¨‰∏ä', '‰ªäÂ§©', 'ÊúÄÂêé', '‰ªÖÈôê', '‰∏ìÂ±û', 'VIP', '‰ºöÂëò',
                    'ÁÉ≠Èó®', 'Êé®Ëçê', 'ÂøÖÁúã', 'ÈáçË¶Å', 'Á¥ßÊÄ•', 'ÈÄöÁü•', 'ÊèêÈÜí', 'ÈÇÄËØ∑',
                    'free', 'limited', 'exclusive', 'secret', 'new', 'discount',
                    'urgent', 'important', 'last chance', 'today only'
                ];

                this.emotionalWords = [
                    'Áà±', 'ÂñúÊ¨¢', 'ÊÉäËâ≥', 'ÈúáÊíº', 'ÊÑüÂä®', 'Ê∏©Êöñ', 'Âπ∏Á¶è', 'Âø´‰πê',
                    'ÂÖ¥Â•ã', 'ÊøÄÂä®', 'Êª°ÊÑè', 'ÊîæÂøÉ', 'ÂÆâÂøÉ', 'ËàíÈÄÇ', '‰∫´Âèó', '‰ΩìÈ™å',
                    'love', 'amazing', 'wonderful', 'exciting', 'happy', 'enjoy'
                ];

                this.personalWords = [
                    'ÊÇ®', '‰Ω†ÁöÑ', '‰∏ì‰∏∫', 'ÂÆöÂà∂', '‰∏™‰∫∫', '‰∏ìÂ±û', 'ÁßÅ‰∫∫', 'ÈáèË∫´',
                    'your', 'personal', 'custom', 'exclusive', 'just for you'
                ];
            }

            initializeEventListeners() {
                const analyzeBtn = document.getElementById('analyzeBtn');
                const resetBtn = document.getElementById('resetBtn');
                const clearBtn = document.getElementById('clearBtn');
                const subjectInput = document.getElementById('subjectLine');

                analyzeBtn.addEventListener('click', () => this.analyzeSubjectLine());
                resetBtn.addEventListener('click', () => this.resetAll());
                clearBtn.addEventListener('click', () => this.clearAll());
                
                subjectInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.analyzeSubjectLine();
                    }
                });

                subjectInput.addEventListener('input', () => {
                    const hasText = subjectInput.value.trim().length > 0;
                    analyzeBtn.disabled = !hasText;
                    // Ê†πÊçÆËæìÂÖ•Áä∂ÊÄÅÊéßÂà∂ÊåâÈíÆÊòæÁ§∫
                    const resetBtn = document.getElementById('resetBtn');
                    if (hasText || document.getElementById('resultsSection').style.display !== 'none') {
                        resetBtn.style.display = 'block';
                        clearBtn.style.display = 'block';
                    } else {
                        resetBtn.style.display = 'none';
                        clearBtn.style.display = 'none';
                    }
                });

                // ÂàùÂßãÂåñÊó∂Ê£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÊòæÁ§∫ÊåâÈíÆ
                const hasInitialText = subjectInput.value.trim().length > 0;
                if (hasInitialText) {
                    resetBtn.style.display = 'block';
                    clearBtn.style.display = 'block';
                } else {
                    resetBtn.style.display = 'none';
                    clearBtn.style.display = 'none';
                }
            }

            analyzeSubjectLine() {
                const subjectLine = document.getElementById('subjectLine').value.trim();
                const industry = document.getElementById('industry').value;

                if (!subjectLine) {
                    alert('ËØ∑ËæìÂÖ•ÈÇÆ‰ª∂Ê†áÈ¢ò');
                    return;
                }

                // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ
                const analyzeBtn = document.getElementById('analyzeBtn');
                analyzeBtn.textContent = 'ÂàÜÊûê‰∏≠...';
                analyzeBtn.disabled = true;

                // Ê®°ÊãüAIÂàÜÊûêÂª∂Ëøü
                setTimeout(() => {
                    const analysis = this.performAnalysis(subjectLine, industry);
                    this.displayResults(analysis, subjectLine);
                    
                    analyzeBtn.textContent = 'üîç ÂàÜÊûêÈ¢ÑÊµã';
                    analyzeBtn.disabled = false;
                }, 1500);
            }

            performAnalysis(subjectLine, industry) {
                const lengthScore = this.calculateLengthScore(subjectLine);
                const emotionScore = this.calculateEmotionScore(subjectLine);
                const urgencyScore = this.calculateUrgencyScore(subjectLine);
                const personalizationScore = this.calculatePersonalizationScore(subjectLine);

                // Âü∫Á°ÄCTRËÆ°ÁÆó
                let baseCTR = (lengthScore + emotionScore + urgencyScore + personalizationScore) / 4;
                
                // Â∫îÁî®Ë°å‰∏öË∞ÉÊï¥
                const industryMultiplier = this.industryMultipliers[industry] || 1.0;
                const finalCTR = Math.min(baseCTR * industryMultiplier, 45); // ÊúÄÈ´ò45%

                return {
                    ctr: Math.round(finalCTR * 10) / 10,
                    lengthScore: Math.round(lengthScore),
                    emotionScore: Math.round(emotionScore),
                    urgencyScore: Math.round(urgencyScore),
                    personalizationScore: Math.round(personalizationScore),
                    suggestions: this.generateSuggestions(subjectLine, lengthScore, emotionScore, urgencyScore, personalizationScore),
                    examples: this.generateOptimizedExamples(subjectLine, industry)
                };
            }

            calculateLengthScore(subject) {
                const length = subject.length;
                // ÊúÄ‰Ω≥ÈïøÂ∫¶Ôºö30-50Â≠óÁ¨¶
                if (length >= 30 && length <= 50) return 25;
                if (length >= 20 && length <= 60) return 20;
                if (length >= 10 && length <= 70) return 15;
                return 10;
            }

            calculateEmotionScore(subject) {
                const lowerSubject = subject.toLowerCase();
                let score = 10; // Âü∫Á°ÄÂàÜ

                // Ê£ÄÊü•ÊÉÖÊÑüËØçÊ±á
                const emotionalWordCount = this.emotionalWords.filter(word => 
                    lowerSubject.includes(word.toLowerCase())
                ).length;

                score += emotionalWordCount * 5;

                // Ê£ÄÊü•Ê†áÁÇπÁ¨¶Âè∑
                if (subject.includes('!')) score += 3;
                if (subject.includes('?')) score += 2;
                if (subject.includes('...')) score += 2;

                return Math.min(score, 25);
            }

            calculateUrgencyScore(subject) {
                const lowerSubject = subject.toLowerCase();
                let score = 5; // Âü∫Á°ÄÂàÜ

                // Ê£ÄÊü•Á¥ßËø´ÊÄßËØçÊ±á
                const urgencyWords = ['ÈôêÊó∂', '‰ªäÂ§©', 'È©¨‰∏ä', 'Á´ãÂç≥', 'ÊúÄÂêé', '‰ªÖÈôê', 'limited', 'today', 'urgent', 'last'];
                const urgencyWordCount = urgencyWords.filter(word => 
                    lowerSubject.includes(word.toLowerCase())
                ).length;

                score += urgencyWordCount * 6;

                // Ê£ÄÊü•Êï∞Â≠óÔºàÈÄöÂ∏∏Ë°®Á§∫ÈôêÂà∂ÊàñÊó∂Èó¥Ôºâ
                if (/\d+/.test(subject)) score += 3;

                return Math.min(score, 25);
            }

            calculatePersonalizationScore(subject) {
                const lowerSubject = subject.toLowerCase();
                let score = 8; // Âü∫Á°ÄÂàÜ

                // Ê£ÄÊü•‰∏™ÊÄßÂåñËØçÊ±á
                const personalWordCount = this.personalWords.filter(word => 
                    lowerSubject.includes(word.toLowerCase())
                ).length;

                score += personalWordCount * 4;

                // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´ÂìÅÁâåÂêçÊàñÂÖ∑‰Ωì‰∫ßÂìÅ
                if (subject.match(/[A-Z][a-z]+/)) score += 3;

                return Math.min(score, 25);
            }

            generateSuggestions(subject, lengthScore, emotionScore, urgencyScore, personalizationScore) {
                const suggestions = [];

                if (lengthScore < 20) {
                    if (subject.length < 30) {
                        suggestions.push({
                            type: 'ÈïøÂ∫¶‰ºòÂåñ',
                            text: 'Ê†áÈ¢òËøáÁü≠ÔºåÂª∫ËÆÆÂ¢ûÂä†Âà∞30-50‰∏™Â≠óÁ¨¶ÔºåÂèØ‰ª•Ê∑ªÂä†Êõ¥Â§öÊèèËø∞ÊÄßËØçÊ±áÊàñ‰ª∑ÂÄº‰∏ªÂº†„ÄÇ'
                        });
                    } else {
                        suggestions.push({
                            type: 'ÈïøÂ∫¶‰ºòÂåñ',
                            text: 'Ê†áÈ¢òËøáÈïøÔºåÂª∫ËÆÆÁº©Áü≠Âà∞50‰∏™Â≠óÁ¨¶‰ª•ÂÜÖÔºåÁ™ÅÂá∫Ê†∏ÂøÉ‰ø°ÊÅØ„ÄÇ'
                        });
                    }
                }

                if (emotionScore < 15) {
                    suggestions.push({
                        type: 'ÊÉÖÊÑüÂ¢ûÂº∫',
                        text: 'Ê∑ªÂä†ÊÉÖÊÑüËØçÊ±áÂ¶Ç"ÊÉäÂñú"„ÄÅ"Áã¨ÂÆ∂"„ÄÅ"ÂøÖÁúã"Á≠âÔºåÊàñ‰ΩøÁî®ÊÑüÂèπÂè∑Â¢ûÂä†ÊÉÖÊÑüËâ≤ÂΩ©„ÄÇ'
                    });
                }

                if (urgencyScore < 15) {
                    suggestions.push({
                        type: 'Á¥ßËø´ÊÑüÊèêÂçá',
                        text: 'Ê∑ªÂä†Êó∂Èó¥ÈôêÂà∂ËØçÊ±áÂ¶Ç"ÈôêÊó∂"„ÄÅ"‰ªäÂ§©"„ÄÅ"ÊúÄÂêéÊú∫‰ºö"Á≠âÔºåÂàõÈÄ†Á¥ßËø´ÊÑü„ÄÇ'
                    });
                }

                if (personalizationScore < 15) {
                    suggestions.push({
                        type: '‰∏™ÊÄßÂåñÊîπËøõ',
                        text: '‰ΩøÁî®"ÊÇ®ÁöÑ"„ÄÅ"‰∏ìÂ±û"„ÄÅ"ÂÆöÂà∂"Á≠â‰∏™ÊÄßÂåñËØçÊ±áÔºåËÆ©Áî®Êà∑ÊÑüËßâÊõ¥Ë¥¥Ëøë„ÄÇ'
                    });
                }

                if (suggestions.length === 0) {
                    suggestions.push({
                        type: 'Êï¥‰Ωì‰ºòÂåñ',
                        text: 'Ê†áÈ¢òÊï¥‰ΩìË°®Áé∞ËâØÂ•ΩÔºÅÂèØ‰ª•Â∞ùËØïA/BÊµãËØï‰∏çÂêåÁâàÊú¨ÔºåËøõ‰∏ÄÊ≠•‰ºòÂåñÊïàÊûú„ÄÇ'
                    });
                }

                return suggestions;
            }

            generateOptimizedExamples(originalSubject, industry) {
                const examples = [];
                const industryKeywords = {
                    'ecommerce': ['Êñ∞ÂìÅ', 'ÊäòÊâ£', 'ÈôêÊó∂Áâπ‰ª∑', '‰ºöÂëò‰∏ì‰∫´'],
                    'finance': ['ÁêÜË¥¢', 'ÊäïËµÑ', 'Êî∂Áõä', '‰∏ì‰∏öÊúçÂä°'],
                    'education': ['Â≠¶‰π†', 'ËØæÁ®ã', 'ÊèêÂçá', 'ÊäÄËÉΩ'],
                    'healthcare': ['ÂÅ•Â∫∑', '‰∏ì‰∏ö', 'ÂÖ≥Áà±', 'ÊúçÂä°'],
                    'technology': ['ÂàõÊñ∞', 'Êô∫ËÉΩ', 'È´òÊïà', 'Ëß£ÂÜ≥ÊñπÊ°à'],
                    'travel': ['ÊóÖË°å', 'Êé¢Á¥¢', '‰ΩìÈ™å', '‰ºòÊÉ†'],
                    'food': ['ÁæéÂë≥', 'Êñ∞È≤ú', 'ÁâπËâ≤', '‰ºòÊÉ†'],
                    'fashion': ['Êó∂Â∞ö', 'Êñ∞Ê¨æ', 'ÊΩÆÊµÅ', 'Áã¨ÂÆ∂'],
                    'real-estate': ['‰ºòË¥®', 'ÊäïËµÑ', 'Êú∫‰ºö', '‰∏ì‰∏ö'],
                    'automotive': ['Êñ∞ËΩ¶', '‰ºòÊÉ†', 'ÊúçÂä°', 'ÂìÅË¥®']
                };

                const keywords = industryKeywords[industry] || ['‰ºòË¥®', '‰∏ìÂ±û', 'ÈôêÊó∂', 'Êé®Ëçê'];
                const keyword = keywords[Math.floor(Math.random() * keywords.length)];

                // ÁîüÊàê3‰∏™‰ºòÂåñÁ§∫‰æã
                examples.push({
                    subject: `üéâ ${keyword}${originalSubject.substring(0, 20)}... - ÈôêÊó∂‰ºòÊÉ†ÔºÅ`,
                    ctr: '28.5%'
                });

                examples.push({
                    subject: `„Äê‰∏ìÂ±ûÈÇÄËØ∑„ÄëÊÇ®ÁöÑ${keyword}${originalSubject.substring(0, 15)}Á≠âÊÇ®Êü•Áúã`,
                    ctr: '26.8%'
                });

                examples.push({
                    subject: `‚ö° ‰ªäÂ§©ÊúÄÂêéÊú∫‰ºöÔºö${originalSubject.substring(0, 25)}`,
                    ctr: '24.3%'
                });

                return examples;
            }

            displayResults(analysis, originalSubject) {
                // ÊòæÁ§∫ÁªìÊûúÂå∫Âüü
                document.getElementById('resultsSection').style.display = 'block';

                // ÊòæÁ§∫CTRÂàÜÊï∞
                document.getElementById('ctrScore').textContent = analysis.ctr + '%';

                // ÊòæÁ§∫ÂêÑÈ°πÂæóÂàÜ
                document.getElementById('lengthScore').textContent = analysis.lengthScore;
                document.getElementById('emotionScore').textContent = analysis.emotionScore;
                document.getElementById('urgencyScore').textContent = analysis.urgencyScore;
                document.getElementById('personalizationScore').textContent = analysis.personalizationScore;

                // ÊòæÁ§∫Âª∫ËÆÆ
                const suggestionsList = document.getElementById('suggestionsList');
                suggestionsList.innerHTML = '';
                analysis.suggestions.forEach(suggestion => {
                    const suggestionDiv = document.createElement('div');
                    suggestionDiv.className = 'suggestion-item';
                    suggestionDiv.innerHTML = `
                        <div class="suggestion-type">${suggestion.type}</div>
                        <div>${suggestion.text}</div>
                    `;
                    suggestionsList.appendChild(suggestionDiv);
                });

                // ÊòæÁ§∫‰ºòÂåñÁ§∫‰æã
                const examplesList = document.getElementById('examplesList');
                examplesList.innerHTML = '';
                analysis.examples.forEach(example => {
                    const exampleDiv = document.createElement('div');
                    exampleDiv.className = 'example-item';
                    exampleDiv.innerHTML = `
                        <div class="example-subject">${example.subject}</div>
                        <div class="example-ctr">È¢ÑÊµãÁÇπÂáªÁéá: ${example.ctr}</div>
                    `;
                    examplesList.appendChild(exampleDiv);
                });

                // Á°Æ‰øùÊåâÈíÆÂèØËßÅ
                document.getElementById('resetBtn').style.display = 'block';
                document.getElementById('clearBtn').style.display = 'block';

                // ÊªöÂä®Âà∞ÁªìÊûúÂå∫Âüü
                document.getElementById('resultsSection').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            }

            resetAll() {
                // ÈáçÁΩÆËæìÂÖ•Ê°Ü
                document.getElementById('subjectLine').value = '';
                document.getElementById('industry').value = 'general';

                // ÈöêËóèÁªìÊûúÂå∫Âüü
                document.getElementById('resultsSection').style.display = 'none';

                // ÈöêËóèÊåâÈíÆ
                document.getElementById('resetBtn').style.display = 'none';
                document.getElementById('clearBtn').style.display = 'none';

                // Á¶ÅÁî®ÂàÜÊûêÊåâÈíÆ
                document.getElementById('analyzeBtn').disabled = true;

                // ÈáçÁΩÆÊåâÈíÆÊñáÊú¨
                document.getElementById('analyzeBtn').textContent = 'üîç ÂàÜÊûêÈ¢ÑÊµã';

                // ËÅöÁÑ¶Âà∞ËæìÂÖ•Ê°Ü
                document.getElementById('subjectLine').focus();

                // Âπ≥ÊªëÊªöÂä®Âà∞È°∂ÈÉ®
                document.querySelector('.input-section').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            }

            clearAll() {
                // ‰ªÖÊ∏ÖÈô§ËæìÂÖ•Ê°ÜÂÜÖÂÆπ
                document.getElementById('subjectLine').value = '';

                // Á¶ÅÁî®ÂàÜÊûêÊåâÈíÆ
                document.getElementById('analyzeBtn').disabled = true;

                // ËÅöÁÑ¶Âà∞ËæìÂÖ•Ê°Ü
                document.getElementById('subjectLine').focus();
            }
        }

        // ÂàùÂßãÂåñÂ∫îÁî®
        document.addEventListener('DOMContentLoaded', () => {
            new EmailCTRPredictor();
        });
    </script>
</body>
</html>

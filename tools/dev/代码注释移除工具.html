<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>代码注释移除工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="../vendor/fontawesome/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#8B5CF6',
                        dark: '#1E293B',
                        light: '#F8FAFC'
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .transition-all-300 {
                transition: all 300ms ease-in-out;
            }
            .shadow-custom {
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
                background-image: linear-gradient(135deg, #3B82F6, #8B5CF6);
            }
            .animate-pulse-slow {
                animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
            .animate-bounce-slow {
                animation: bounce 3s infinite;
            }
            .animate-ping-slow {
                animation: ping 3s cubic-bezier(0, 0, 0.2, 1) infinite;
            }
            @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.5; }
            }
            @keyframes bounce {
                0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
                50% { transform: none; animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
            }
            @keyframes ping {
                75%, 100% { transform: scale(1.5); opacity: 0; }
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 font-inter min-h-screen flex flex-col">
        <!-- 导航栏 -->
        <header class="bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg sticky top-0 z-50 transition-all duration-300">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-2 animate-pulse-slow">
                    <i class="fa fa-code text-white text-2xl"></i>
                    <h1 class="text-xl font-bold text-white">代码注释移除工具</h1>
                </div>
                <nav>
                    <ul class="flex space-x-6">
                        <li><a href="#features" class="text-white/90 hover:text-white transition-colors duration-300">功能</a></li>
                        <li><a href="#how-it-works" class="text-white/90 hover:text-white transition-colors duration-300">使用方法</a></li>
                        <li><a href="#examples" class="text-white/90 hover:text-white transition-colors duration-300">示例</a></li>
                    </ul>
                </nav>
            </div>
        </header>

    <!-- 主要内容 -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- 介绍部分 -->
        <section class="text-center mb-12 relative">
            <div class="absolute top-0 left-1/4 w-64 h-64 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-bounce-slow"></div>
            <div class="absolute top-0 right-1/4 w-64 h-64 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-ping-slow"></div>
            <div class="relative z-10">
                <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-gray-800 mb-4">智能代码注释移除工具</h2>
                <p class="text-gray-600 max-w-2xl mx-auto text-lg">快速移除代码中的注释，支持多种编程语言。保持代码整洁，提升代码可读性。</p>
            </div>
        </section>

        <!-- 工具区域 -->
        <section class="bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-custom p-6 mb-12 transform transition-all duration-300 hover:shadow-xl">
            <div class="flex flex-col lg:flex-row gap-6">
                <!-- 左侧控制面板 -->
                <div class="w-full lg:w-1/4 space-y-4">
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">编程语言</label>
                        <select id="language-select" class="w-full rounded-lg border-2 border-purple-200 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200/50 transition-all duration-300 px-3 py-2 bg-white">
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="c">C</option>
                            <option value="cpp">C++</option>
                            <option value="csharp">C#</option>
                            <option value="go">Go</option>
                            <option value="php">PHP</option>
                            <option value="ruby">Ruby</option>
                            <option value="swift">Swift</option>
                            <option value="kotlin">Kotlin</option>
                        </select>
                    </div>

                    <button id="remove-btn" class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-[1.03] flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl mt-4 group">
                        <i class="fa fa-eraser group-hover:rotate-12 transition-transform duration-300"></i>
                        <span>移除注释</span>
                    </button>

                    <button id="copy-btn" class="w-full bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-700 font-bold py-2 px-4 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg mt-2 group">
                        <i class="fa fa-copy group-hover:rotate-12 transition-transform duration-300"></i>
                        <span>复制结果</span>
                    </button>

                    <button id="clear-btn" class="w-full bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 text-gray-600 font-bold py-2 px-4 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg mt-2 group">
                        <i class="fa fa-trash group-hover:rotate-12 transition-transform duration-300"></i>
                        <span>清空</span>
                    </button>
                </div>

                <!-- 右侧代码区域 -->
                <div class="w-full lg:w-3/4 space-y-6">
                    <!-- 输入区域 -->
                    <div class="space-y-2">
                        <label for="code-input" class="block text-sm font-medium text-gray-700 flex items-center">
                            <i class="fa fa-code mr-2"></i> 输入代码
                        </label>
                        <div class="relative">
                            <pre class="hidden"><code id="input-highlighted" class="language-javascript"></code></pre>
                            <textarea id="code-input" rows="12" class="w-full rounded-lg border border-gray-300 p-4 font-mono text-sm bg-gray-50 min-h-[300px] transition-all duration-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 focus:outline-none"></textarea>
                        </div>
                    </div>

                    <!-- 输出区域 -->
                    <div class="space-y-2">
                        <label for="code-output" class="block text-sm font-medium text-gray-700 flex items-center">
                            <i class="fa fa-comment-o mr-2"></i> 处理结果
                        </label>
                        <div class="relative">
                            <pre class="w-full rounded-lg border border-gray-300 p-4 font-mono text-sm bg-gray-50 min-h-[300px] overflow-auto transition-all duration-300"><code id="code-output" class="language-javascript w-full rounded-lg border border-gray-300 p-4 font-mono text-sm bg-gray-50 min-h-[300px] overflow-auto"></code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 功能特点 -->
        <section id="features" class="mb-12">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-8">功能特点</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-purple-500">
                    <div class="w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-xl flex items-center justify-center mb-4 shadow-md">
                        <i class="fa fa-language text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">多语言支持</h3>
                    <p class="text-gray-600">支持多种主流编程语言的注释移除，满足不同开发场景需求。</p>
                </div>

                <div class="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-pink-500">
                    <div class="w-14 h-14 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl flex items-center justify-center mb-4 shadow-md">
                        <i class="fa fa-bolt text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">快速处理</h3>
                    <p class="text-gray-600">高效的算法实现，快速移除代码中的注释，提升开发效率。</p>
                </div>

                <div class="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-indigo-500">
                    <div class="w-14 h-14 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-xl flex items-center justify-center mb-4 shadow-md">
                        <i class="fa fa-code-fork text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">语法高亮</h3>
                    <p class="text-gray-600">集成代码语法高亮，让输入和输出的代码更易于阅读和理解。</p>
                </div>

                <div class="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-amber-500">
                    <div class="w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center mb-4 shadow-md">
                        <i class="fa fa-eraser text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">精准识别</h3>
                    <p class="text-gray-600">准确识别各种类型的注释，包括单行注释、多行注释和文档注释。</p>
                </div>

                <div class="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-emerald-500">
                    <div class="w-14 h-14 bg-gradient-to-br from-emerald-500 to-green-500 rounded-xl flex items-center justify-center mb-4 shadow-md">
                        <i class="fa fa-check-circle text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">保持结构</h3>
                    <p class="text-gray-600">在移除注释的同时保持代码的原有结构和格式不变。</p>
                </div>

                <div class="bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-cyan-500">
                    <div class="w-14 h-14 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-xl flex items-center justify-center mb-4 shadow-md">
                        <i class="fa fa-copy text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">一键复制</h3>
                    <p class="text-gray-600">处理完成后可一键复制结果，方便快速使用。</p>
                </div>
            </div>
        </section>

        <!-- 使用方法 -->
        <section id="how-it-works" class="mb-12 relative">
            <div class="absolute -top-20 left-1/2 w-96 h-96 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-ping-slow"></div>
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-8 relative z-10">使用方法</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10">
                <div class="flex flex-col items-center text-center bg-white p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-purple-500">
                    <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-full flex items-center justify-center mb-4 shadow-lg animate-bounce">
                        <span class="text-white text-2xl font-bold">1</span>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">选择语言</h3>
                    <p class="text-gray-600">在下拉菜单中选择您代码的编程语言</p>
                </div>

                <div class="flex flex-col items-center text-center bg-white p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-pink-500">
                    <div class="w-16 h-16 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center mb-4 shadow-lg animate-bounce">
                        <span class="text-white text-2xl font-bold">2</span>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">粘贴代码</h3>
                    <p class="text-gray-600">将您需要移除注释的代码粘贴到输入框中</p>
                </div>

                <div class="flex flex-col items-center text-center bg-white p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-amber-500">
                    <div class="w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-500 rounded-full flex items-center justify-center mb-4 shadow-lg animate-bounce">
                        <span class="text-white text-2xl font-bold">3</span>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">移除注释</h3>
                    <p class="text-gray-600">点击"移除注释"按钮，等待处理完成</p>
                </div>

                <div class="flex flex-col items-center text-center bg-white p-6 rounded-2xl shadow-custom transition-all duration-300 hover:shadow-xl transform hover:-translate-y-2 border-t-4 border-emerald-500">
                    <div class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-full flex items-center justify-center mb-4 shadow-lg animate-bounce">
                        <span class="text-white text-2xl font-bold">4</span>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">复制结果</h3>
                    <p class="text-gray-600">查看处理后的代码，点击"复制结果"使用</p>
                </div>
            </div>
        </section>

        <!-- 示例 -->
        <section id="examples" class="mb-12 relative">
            <div class="absolute -top-20 right-1/4 w-80 h-80 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-slow"></div>
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-8 relative z-10">示例</h2>
            <div class="bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-custom p-6 relative z-10 border-t-4 border-purple-500">
                <div class="space-y-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">输入代码 (JavaScript):</h3>
                        <pre class="bg-gradient-to-br from-gray-800 to-gray-900 text-gray-100 p-4 rounded-xl overflow-auto shadow-lg"><code class="language-javascript">// 这是一个示例函数
function add(a, b) {
    /*
     * 这是多行注释
     * 用于说明函数功能
     */
    return a + b; // 返回两数之和
}

// 程序入口
console.log(add(1, 2)); // 输出结果</code></pre>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">处理结果:</h3>
                        <pre class="bg-gradient-to-br from-gray-800 to-gray-900 text-gray-100 p-4 rounded-xl overflow-auto shadow-lg"><code class="language-javascript">function add(a, b) {
    return a + b;
}

console.log(add(1, 2));</code></pre>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gradient-to-r from-indigo-500 to-purple-600 border-t border-gray-200 py-6 mt-12">
        <div class="container mx-auto px-4 text-center text-white">
            <p>&copy; 2023 代码注释移除工具. 保留所有权利.</p>
        </div>
    </footer>

    <script>
        // DOM元素
        const codeInput = document.getElementById('code-input');
        const codeOutput = document.getElementById('code-output');
        const languageSelect = document.getElementById('language-select');
        const removeBtn = document.getElementById('remove-btn');
        const copyBtn = document.getElementById('copy-btn');
        const clearBtn = document.getElementById('clear-btn');

        // 事件监听器
        removeBtn.addEventListener('click', function() {
            // 添加点击动画效果
            this.classList.add('animate-pulse');
            setTimeout(() => {
                this.classList.remove('animate-pulse');
            }, 300);
            removeComments();
        });
        
        copyBtn.addEventListener('click', function() {
            // 添加点击动画效果
            this.classList.add('animate-pulse');
            setTimeout(() => {
                this.classList.remove('animate-pulse');
            }, 300);
            copyResult();
        });
        
        clearBtn.addEventListener('click', function() {
            // 添加点击动画效果
            this.classList.add('animate-pulse');
            setTimeout(() => {
                this.classList.remove('animate-pulse');
            }, 300);
            clearAll();
        });
        
        languageSelect.addEventListener('change', updateLanguage);

        // 更新代码语言显示
        function updateLanguage() {
            const language = languageSelect.value;
            codeOutput.className = `language-${language} w-full rounded-lg border border-gray-300 p-4 font-mono text-sm bg-gray-50 min-h-[300px] overflow-auto`;
        }

        // 移除注释主函数
        function removeComments() {
            const code = codeInput.value;
            if (!code.trim()) {
                alert('请输入代码');
                return;
            }

            const language = languageSelect.value;
            let result;

            try {
                switch (language) {
                    case 'javascript':
                    case 'typescript':
                    case 'java':
                    case 'c':
                    case 'cpp':
                    case 'csharp':
                    case 'go':
                    case 'php':
                    case 'kotlin':
                        result = removeCStyleComments(code);
                        break;
                    case 'python':
                        result = removePythonComments(code);
                        break;
                    case 'ruby':
                        result = removeRubyComments(code);
                        break;
                    default:
                        result = removeGenericComments(code);
                }

                codeOutput.textContent = result;
                hljs.highlightElement(codeOutput);
            } catch (error) {
                console.error('移除注释时出错:', error);
                alert('处理代码时出错，请检查代码格式');
                codeOutput.textContent = code; // 出错时显示原始代码
            }
        }

        // 移除C风格注释 (/* */ 和 //)
        function removeCStyleComments(code) {
            // 移除多行注释 /* ... */
            let result = code.replace(/\/\*[\s\S]*?\*\//g, '');
            // 移除单行注释 //
            result = result.replace(/\/\/.*$/gm, '');
            // 移除行尾空白
            result = result.replace(/[ \t]+$/gm, '');
            // 移除多余的空行（保留一个空行）
            result = result.replace(/\n{3,}/g, '\n\n');
            return result;
        }

        // 移除Python注释 (# 和 ''' ''' 或 """ """)
        function removePythonComments(code) {
            // 移除三引号注释 ''' ... ''' 或 """ ... """
            let result = code.replace(/(['"]{3})[\s\S]*?\1/g, '');
            // 移除单行注释 #
            result = result.replace(/#.*$/gm, '');
            // 移除行尾空白
            result = result.replace(/[ \t]+$/gm, '');
            // 移除多余的空行（保留一个空行）
            result = result.replace(/\n{3,}/g, '\n\n');
            return result;
        }

        // 移除Ruby注释 (#)
        function removeRubyComments(code) {
            // 移除单行注释 #
            let result = code.replace(/#.*$/gm, '');
            // 移除行尾空白
            result = result.replace(/[ \t]+$/gm, '');
            // 移除多余的空行（保留一个空行）
            result = result.replace(/\n{3,}/g, '\n\n');
            return result;
        }

        // 通用注释移除（移除所有常见注释格式）
        function removeGenericComments(code) {
            // 移除C风格多行注释 /* ... */
            let result = code.replace(/\/\*[\s\S]*?\*\//g, '');
            // 移除C风格单行注释 //
            result = result.replace(/\/\/.*$/gm, '');
            // 移除Python单行注释 #
            result = result.replace(/#.*$/gm, '');
            // 移除Python三引号注释 ''' ... ''' 或 """ ... """
            result = result.replace(/(['"]{3})[\s\S]*?\1/g, '');
            // 移除行尾空白
            result = result.replace(/[ \t]+$/gm, '');
            // 移除多余的空行（保留一个空行）
            result = result.replace(/\n{3,}/g, '\n\n');
            return result;
        }

        // 复制结果到剪贴板
        function copyResult() {
            const result = codeOutput.textContent;
            if (!result.trim()) {
                alert('没有可复制的内容');
                return;
            }

            const textarea = document.createElement('textarea');
            textarea.value = result;
            document.body.appendChild(textarea);
            textarea.select();
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    alert('复制成功');
                } else {
                    alert('复制失败，请手动复制');
                }
            } catch (err) {
                console.error('执行复制命令失败:', err);
                alert('复制失败，请手动复制');
            }
            document.body.removeChild(textarea);
        }

        // 清空内容
        function clearAll() {
            codeInput.value = '';
            codeOutput.textContent = '';
            alert('已清空');
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£Ÿæé£Ÿè°±ç”Ÿæˆå™¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap');
        
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFE66D;
            --dark: #292F36;
            --light: #F7FFF7;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        h1 {
            color: var(--dark);
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 30px;
            position: relative;
            display: inline-block;
        }
        
        h1:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 4px;
            bottom: -10px;
            left: 0;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 2px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .container:hover {
            transform: translateY(-5px);
        }
        
        #new-ingredient {
            width: 70%;
            padding: 12px 15px;
            margin-right: 10px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        #new-ingredient:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        button:hover {
            background-color: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0,0,0,0.15);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        #selected-ingredients {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .ingredient-tag {
            background-color: var(--secondary);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .ingredient-tag:hover {
            background-color: #3dbeb6;
            transform: scale(1.05);
        }
        
        #results {
            margin-top: 30px;
        }
        
        .recipe {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s;
            border-left: 5px solid var(--primary);
        }
        
        .recipe:hover {
            transform: translateX(5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .recipe h3 {
            margin-top: 0;
            color: var(--dark);
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .recipe p {
            color: #666;
            margin-bottom: 0;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .food-icon {
            font-size: 2rem;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .recipe {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><span class="food-icon">ğŸ³</span>é£Ÿæé£Ÿè°±ç”Ÿæˆå™¨</h1>
        <p>æ·»åŠ æ‚¨çš„é£Ÿæ:</p>
        <div>
            <input type="text" id="new-ingredient" placeholder="è¾“å…¥é£Ÿæåç§°">
            <button onclick="addIngredient()">æ·»åŠ </button>
        </div>
        <div id="selected-ingredients" style="margin: 10px 0;"></div>
        <div class="button-group">
            <button onclick="generateRecipes()">ç”Ÿæˆèœè°± ğŸ½ï¸</button>
            <button onclick="clearIngredients()" style="background-color: var(--secondary);">æ¸…é™¤é£Ÿæ ğŸ—‘ï¸</button>
            <button onclick="clearRecipes()" style="background-color: var(--accent); color: var(--dark);">æ¸…é™¤èœè°± ğŸ—‘ï¸</button>
        </div>
        
        <div id="results"></div>
    </div>

    <script>
        const recipeDatabase = {
            "é¸¡è›‹, è¥¿çº¢æŸ¿": [
                {
                    "name": "è¥¿çº¢æŸ¿ç‚’é¸¡è›‹",
                    "description": "ç»å…¸å®¶å¸¸èœï¼Œç®€å•æ˜“åšï¼Œé…¸ç”œå¯å£ã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿é¸¡è›‹æ±¤",
                    "description": "æ¸…æ·¡ç¾å‘³çš„æ±¤å“ï¼Œè¥å…»ä¸°å¯Œã€‚"
                }
            ],
            "åœŸè±†, ç‰›è‚‰": [
                {
                    "name": "åœŸè±†ç‚–ç‰›è‚‰",
                    "description": "é¦™æµ“è½¯çƒ‚ï¼Œç‰›è‚‰å’ŒåœŸè±†å®Œç¾æ­é…ã€‚"
                },
                {
                    "name": "å’–å–±ç‰›è‚‰åœŸè±†",
                    "description": "å¼‚å›½é£å‘³ï¼Œé¦™è¾£å¼€èƒƒã€‚"
                }
            ],
            "é¸¡è›‹, åœŸè±†": [
                {
                    "name": "åœŸè±†ç…è›‹é¥¼",
                    "description": "é¦™è„†å¯å£ï¼Œæ—©é¤ä½³é€‰ã€‚"
                }
            ],
            "é¸¡è›‹, è¥¿çº¢æŸ¿, åœŸè±†": [
                {
                    "name": "è¥¿çº¢æŸ¿åœŸè±†ç‚’é¸¡è›‹",
                    "description": "ä¸‰è‰²æ­é…ï¼Œè¥å…»å‡è¡¡ã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿åœŸè±†é¸¡è›‹æ±¤",
                    "description": "æ¸©æš–èº«å¿ƒçš„æ±¤å“ã€‚"
                }
            ],
            "é¸¡è›‹, è¥¿çº¢æŸ¿, ç‰›è‚‰": [
                {
                    "name": "è¥¿çº¢æŸ¿ç‰›è‚‰ç‚’é¸¡è›‹",
                    "description": "è›‹ç™½è´¨ä¸°å¯Œçš„ç¾å‘³ç»„åˆã€‚"
                }
            ],
            "é¸¡è›‹, åœŸè±†, ç‰›è‚‰": [
                {
                    "name": "ç‰›è‚‰åœŸè±†ç…è›‹",
                    "description": "èƒ½é‡æ»¡æ»¡çš„ä¸»é£Ÿã€‚"
                }
            ],
            "é¸¡è›‹, è¥¿çº¢æŸ¿, åœŸè±†, ç‰›è‚‰": [
                {
                    "name": "ä¸°ç››å¤§æ‚çƒ©",
                    "description": "æ‰€æœ‰é£Ÿæä¸€èµ·çƒ¹é¥ªï¼Œç®€å•åˆç¾å‘³ã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿ç‰›è‚‰ç‚–åœŸè±†é…ç…è›‹",
                    "description": "è¥å…»å‡è¡¡çš„ä¸»èœæ­é…ã€‚"
                }
            ],
            "é¸¡è›‹, è¥¿çº¢æŸ¿": [
                {
                    "name": "è¥¿çº¢æŸ¿ç‚’é¸¡è›‹",
                    "description": "ç»å…¸å®¶å¸¸èœï¼Œç®€å•æ˜“åšï¼Œé…¸ç”œå¯å£ã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿é¸¡è›‹æ±¤",
                    "description": "æ¸…æ·¡ç¾å‘³çš„æ±¤å“ï¼Œè¥å…»ä¸°å¯Œã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿é¸¡è›‹é¢",
                    "description": "ç®€å•å¿«æ·çš„é¢é£Ÿã€‚"
                }
            ],
            "åœŸè±†, ç‰›è‚‰": [
                {
                    "name": "åœŸè±†ç‚–ç‰›è‚‰",
                    "description": "é¦™æµ“è½¯çƒ‚ï¼Œç‰›è‚‰å’ŒåœŸè±†å®Œç¾æ­é…ã€‚"
                },
                {
                    "name": "å’–å–±ç‰›è‚‰åœŸè±†",
                    "description": "å¼‚å›½é£å‘³ï¼Œé¦™è¾£å¼€èƒƒã€‚"
                },
                {
                    "name": "ç‰›è‚‰åœŸè±†é¥¼",
                    "description": "é¦™è„†å¯å£çš„ç…é¥¼ã€‚"
                }
            ],
            "é¸¡è›‹, åœŸè±†": [
                {
                    "name": "åœŸè±†ç…è›‹é¥¼",
                    "description": "é¦™è„†å¯å£ï¼Œæ—©é¤ä½³é€‰ã€‚"
                },
                {
                    "name": "åœŸè±†è›‹èŠ±æ±¤",
                    "description": "ç®€å•æš–èƒƒçš„æ±¤å“ã€‚"
                }
            ],
            "é¸¡è›‹, è¥¿çº¢æŸ¿, åœŸè±†": [
                {
                    "name": "è¥¿çº¢æŸ¿åœŸè±†ç‚’é¸¡è›‹",
                    "description": "ä¸‰è‰²æ­é…ï¼Œè¥å…»å‡è¡¡ã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿åœŸè±†é¸¡è›‹æ±¤",
                    "description": "æ¸©æš–èº«å¿ƒçš„æ±¤å“ã€‚"
                }
            ],
            "é¸¡è›‹, è¥¿çº¢æŸ¿, ç‰›è‚‰": [
                {
                    "name": "è¥¿çº¢æŸ¿ç‰›è‚‰ç‚’é¸¡è›‹",
                    "description": "è›‹ç™½è´¨ä¸°å¯Œçš„ç¾å‘³ç»„åˆã€‚"
                },
                {
                    "name": "è¥¿çº¢æŸ¿ç‰›è‚‰è›‹èŠ±æ±¤",
                    "description": "è¥å…»ä¸°å¯Œçš„æ±¤å“ã€‚"
                }
            ],
            "é¸¡è›‹, åœŸè±†, ç‰›è‚‰": [
                {
                    "name": "ç‰›è‚‰åœŸè±†ç…è›‹",
                    "description": "èƒ½é‡æ»¡æ»¡çš„ä¸»é£Ÿã€‚"
                },
                {
                    "name": "ç‰›è‚‰åœŸè±†è›‹é¥¼",
                    "description": "é¦™è„†å¯å£çš„ç…é¥¼ã€‚"
                }
            ]
        };

        let ingredientsList = [];
        
        function addIngredient() {
            const input = document.getElementById('new-ingredient');
            const ingredient = input.value.trim();
            
            if (ingredient && !ingredientsList.includes(ingredient)) {
                ingredientsList.push(ingredient);
                updateSelectedIngredients();
                input.value = '';
            }
        }
        
        function clearRecipes() {
            document.getElementById('results').innerHTML = '';
        }
        
        function clearIngredients() {
            ingredientsList = [];
            updateSelectedIngredients();
        }
        
        function updateSelectedIngredients() {
            const container = document.getElementById('selected-ingredients');
            container.innerHTML = ingredientsList.map(ing => 
                `<span class="ingredient-tag" data-ingredient="${ing}">${ing} 
                <span onclick="removeIngredient('${ing}')" style="cursor:pointer;">Ã—</span></span>`
            ).join(' ');
        }
        
        function removeIngredient(ingredient) {
            ingredientsList = ingredientsList.filter(ing => ing !== ingredient);
            updateSelectedIngredients();
        }
        
        function generateRecipes() {
            const ingredients = Array.from(document.querySelectorAll('#selected-ingredients .ingredient-tag')).map(el => el.dataset.ingredient);
            
            if (ingredients.length === 0) {
                alert('è¯·è¾“å…¥è‡³å°‘ä¸€ç§é£Ÿæï¼');
                return;
            }
            
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            // æŸ¥æ‰¾åŒ¹é…çš„èœè°±
            const matchedRecipes = [];
            
            // æ£€æŸ¥æ‰€æœ‰å¯èƒ½çš„é£Ÿæç»„åˆ
            for (const key in recipeDatabase) {
                const requiredIngredients = key.split(',').map(item => item.trim());
                
                // æ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„é£Ÿææ˜¯å¦åŒ…å«å½“å‰èœè°±æ‰€éœ€çš„æ‰€æœ‰é£Ÿæ
                const hasAllIngredients = requiredIngredients.every(ing => 
                    ingredients.includes(ing)
                );
                
                // æ£€æŸ¥æ˜¯å¦æœ‰éƒ¨åˆ†é£ŸæåŒ¹é…ï¼ˆé™ä½åŒ¹é…é˜ˆå€¼è‡³30%ï¼‰
                const matchedCount = requiredIngredients.filter(ing => 
                    ingredients.includes(ing)
                ).length;
                const partialMatch = matchedCount / requiredIngredients.length >= 0.3;
                
                if (hasAllIngredients || partialMatch) {
                    // æ·»åŠ åŒ¹é…åº¦ä¿¡æ¯
                    const recipes = recipeDatabase[key].map(recipe => ({
                        ...recipe,
                        matchScore: hasAllIngredients ? 1 : matchedCount / requiredIngredients.length
                    }));
                    matchedRecipes.push(...recipes);
                }
            }
            
            // æŒ‰åŒ¹é…åº¦æ’åº
            matchedRecipes.sort((a, b) => b.matchScore - a.matchScore);
            
            if (matchedRecipes.length === 0) {
                // æä¾›æ›´å‹å¥½çš„æç¤ºå’Œå»ºè®®
                resultsDiv.innerHTML = `
                    <p>æ²¡æœ‰æ‰¾åˆ°å®Œå…¨åŒ¹é…çš„èœè°±ï¼Œä½†æ‚¨å¯ä»¥å°è¯•ä»¥ä¸‹ç»„åˆï¼š</p>
                    <ul>
                        <li>${ingredients.slice(0, 2).join(' + ')}</li>
                        <li>${ingredients.slice(1, 3).join(' + ')}</li>
                        <li>${ingredients.slice(0, 1).concat(ingredients.slice(2)).join(' + ')}</li>
                    </ul>
                `;
                return;
            }
            
            // æ˜¾ç¤ºåŒ¹é…çš„èœè°±
            matchedRecipes.forEach(recipe => {
                const recipeDiv = document.createElement('div');
                recipeDiv.className = 'recipe';
                recipeDiv.innerHTML = `
                    <h3>${recipe.name}</h3>
                    <p>${recipe.description}</p>
                `;
                resultsDiv.appendChild(recipeDiv);
            });
        }
    </script>
</body>
</html>
